@{
    ViewData["Title"] = "Oppenheimer";
    Layout = "~/Views/Shared/_Layout.cshtml"; // Adjust if necessary
}

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>@ViewData["Title"]</title>
    <link rel="stylesheet" type="text/css" href="~/css/movie-scene.css" />
</head>
<body>
    <div class="page-container">
        <div class="movie-container">
            <div class="poster">
                <img src="~/images/fb36c97d-1ae2-4bea-9e0c-024fde761e5e_oppenheimer.jpg" alt="Movie Poster" />
            </div>
            <div class="details">
                <div class="rating">
                    <div class="stars">
                        @for (int i = 1; i <= 10; i++)
                        {
                            <span class="star" data-value="@i">&#9733;</span>
                        }
                    </div>
                </div>
                <h1>Oppenheimer</h1>
                <p><strong>Director:</strong> Christopher Nolan</p>
                <p><strong>Actors:</strong> Cillian Murphy, Emily Blunt, Matt Damon, Robert Downey Jr.</p>
                <p><strong>Tags:</strong> Drama, Biographic</p>
                <div class="description">
                    <p>The story of American scientist J. Robert Oppenheimer and his role in the creation of the atomic bomb.</p>
                </div>
                <div class="trailer">
                    <h3>Trailer</h3>
                    <iframe width="560" height="315" src="https://www.youtube.com/embed/bK6ldnjE3Y0" frameborder="0" allowfullscreen></iframe>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.querySelectorAll('.star').forEach(star => {
            star.addEventListener('mouseover', function () {
                let value = parseInt(this.getAttribute('data-value'));
                document.querySelectorAll('.star').forEach(s => {
                    let sValue = parseInt(s.getAttribute('data-value'));
                    if (sValue <= value) {
                        s.classList.add('hovered');
                    } else {
                        s.classList.remove('hovered');
                    }
                });
            });

            star.addEventListener('mouseout', function () {
                document.querySelectorAll('.star').forEach(s => {
                    s.classList.remove('hovered');
                });
            });

            star.addEventListener('click', function () {
                let value = parseInt(this.getAttribute('data-value'));
                document.querySelectorAll('.star').forEach(s => {
                    let sValue = parseInt(s.getAttribute('data-value'));
                    if (sValue <= value) {
                        s.classList.add('selected');
                    } else {
                        s.classList.remove('selected');
                    }
                });
                alert('You rated the movie ' + value + ' stars');
                // Add logic to save the rating
            });
        });

        // Ensure the correct stars are highlighted on page load
        function updateStars() {
            let selectedValue = parseInt(document.querySelector('.star.selected') ? document.querySelector('.star.selected').getAttribute('data-value') : 0);
            document.querySelectorAll('.star').forEach(s => {
                let sValue = parseInt(s.getAttribute('data-value'));
                if (sValue <= selectedValue) {
                    s.classList.add('selected');
                } else {
                    s.classList.remove('selected');
                }
            });
        }

        updateStars();
    </script>
</body>
</html>


